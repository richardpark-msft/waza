# Eval specification for azure-deploy
name: azure-deploy-eval
description: Evaluation suite for the azure-deploy skill
skill: azure-deploy
version: "1.0"

config:
  trials_per_task: 1
  timeout_seconds: 300
  parallel: false

metrics:
  - name: task_completion
    weight: 0.4
    threshold: 0.8
  - name: trigger_accuracy
    weight: 0.3
    threshold: 0.9
  - name: behavior_quality
    weight: 0.3
    threshold: 0.7

graders:
  - type: code
    name: deployment_validation
    config:
      assertions:
        - "len(output) > 0"
        - "'deploy' in output.lower() or 'azd' in output.lower()"

  - type: code
    name: tool_usage
    config:
      assertions:
        - "len([t for t in transcript if t.get('type') == 'tool_call']) >= 0"

tasks:
  - "tasks/*.yaml"
